# ⚡ ECUST 电量监控系统配置文件
#
# 使用说明：
# 1. 复制此文件为 `config.toml`
# 2. 根据需要调整配置（所有非敏感配置）
# 3. 敏感信息（密码、API keys）请使用 .env 文件
#
# 配置优先级：环境变量 > .env > config.toml > 代码默认值

# =============================================================================
# 应用配置
# =============================================================================
[app]
# 电量告警阈值（度）- 低于此值时发送告警
alert_threshold = 10.0

# 定时监控检查间隔（秒）默认 3600 = 1小时
check_interval_seconds = 3600

# 日志级别: DEBUG, INFO, WARNING, ERROR
log_level = "INFO"


# =============================================================================
# 客户端配置
# =============================================================================
[client]
# ECUST API 参数（敏感信息建议使用 .env 文件）
# 如何获取：浏览器访问电费查询页面，F12 查看网络请求
# sysid = ""     # 建议在 .env 中设置 CLIENT_SYSID
# roomid = ""    # 建议在 .env 中设置 CLIENT_ROOMID
# areaid = ""    # 建议在 .env 中设置 CLIENT_AREAID
# buildid = ""   # 建议在 .env 中设置 CLIENT_BUILDID

# 请求超时时间（秒）
timeout_seconds = 10

# 最大重试次数
max_retries = 3


# =============================================================================
# 数据存储配置
# =============================================================================
[storage]
# 数据目录（相对于项目根目录）
data_dir = "data"

# CSV 文件名
csv_filename = "electricity.csv"


# =============================================================================
# 通知配置
# =============================================================================
[notification]
# 推送方式：email, serverchan, 或 "email,serverchan"（多个用逗号分隔）
# 留空则不发送通知
methods = ""

# 邮件通知配置
# 常用 SMTP 配置：
#   Gmail:  smtp.gmail.com (端口 587, TLS)
#   QQ:     smtp.qq.com (端口 587, TLS)
#   163:    smtp.163.com (端口 465, SSL)
smtp_host = "smtp.gmail.com"
smtp_port = 587
smtp_use_tls = true

# 发件人邮箱（建议在 .env 中设置 NOTIFICATION_SMTP_USER）
# smtp_user = ""

# 邮箱密码（必须在 .env 中设置 NOTIFICATION_SMTP_PASSWORD）
# 收件人邮箱列表
recipients = []

# Server酱（微信推送）配置
# SendKey（必须在 .env 中设置 NOTIFICATION_SERVERCHAN_SENDKEY）
# 获取 SendKey：访问 https://sct.ftqq.com/
# serverchan_sendkey = ""


# =============================================================================
# 报告配置
# =============================================================================
[report]
# 报告分析天数
days_to_analyze = 7

# 报告输出目录
output_dir = "output/reports"
